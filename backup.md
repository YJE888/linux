# Backup
### rsync
- 원격 및 로컬 시스템 간에 파일 및 디렉토리를 동기화하고 복사하는 명령어 프로토콜
  1. 효율적인 복사
     - rsync는 변경된 파일만 복사하므로 대상 시스템에 이미 있는 파일을 다시 복사하지 않음
  2. 압축 및 암호화
     - 데이터를 압축하고, SSH와 같은 프로토콜을 사용하여 데이터를 전송하므로 데이터의 안정성과 보안이 유지됨(ssh가 실행되어야됨)
  3. 미러링
     - 디렉토리 구조를 유지하면서 로컬 또는 원격 시스템과 동일한 사본을 만드는 것이 가능함
### dd
- data dump 또는 disk dump의 약자로, 주로 데이터를 복사하고 변환하는 데 사용됨
  1. 파일 복사 : dd는 파일이나 디스크 이미지를 다른 파일로 복사 가능
  2. 블록 단위 복사 : dd는 파일을 블록 단위로 복사하므로, 블록 크기 및 오프셋을 지정하여 특정 부분을 복사하거나 건너뛰는 것이 가능
  3. 디스크 이미지 생성 : dd 는 디스크 또는 파티션의 이미지를 생성하거나 백업 가능

  `dd if=/dev/vda of=diskimage.raw bs=1M status=progress`
  /dev/vda 디바이스에서 데이터를 읽어와서 1MB 블록 단위로 diskimage.raw 파일에 복사하면서 진행 상태를 표시하는 작업 수행
  - `if=/dev/vda` : if로 입력 파일의 경로를 지정
  - `of=diskimage.raw` : of로 출력 파일의 경로를 지정, diskimage.raw 파일에 복사됨
  - `bs=1M` : 블록 크기는 데이터를 읽고 쓸 때 한 번에 처리되는 데이터 양을 나타내느 것
  - `status=progress` : dd 명령의 진행 상태를 표시하여 실시간으로 진행 상황을 모니터링
  `dd if=/dev/vda of=diskimage.raw bs=1M status=progress` 로 복원 가능
  - /dev/vda디바이스에 데이터를 복사하는 것으로 해당 디바이스에 데이터가 있으면 미리 백업 및 이동이 있어야 데이터가 유실되지 않음
